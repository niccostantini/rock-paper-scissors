<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <div class="Header">
    <h1>Rock, Paper, Scissors</h1>
    <p class="subtitle">A classic, by the_niccolo</p>
    </div>
    
    <div class="ui">

        <button class="select rock">Rock</button>
        <button class="select paper">Paper</button>
        <button class="select scissors">Scissors</button>

    </div>

    <div class="log"></div>

    <div class="results">
        <h3>Score:</h3>
        <ul>
           <li class="user">User: <span id="userScore">0</span></li> 
           <li class="pc">Computer: <span id="pcScore">0</span></li>
        </ul>
    </div>
    
    <script>

const rockButton = document.querySelector(".rock");
const paperButton = document.querySelector(".paper");
const scissorsButton = document.querySelector(".scissors");
const buttons = document.querySelectorAll("button");
const uScore = document.querySelector("#userScore");
const pScore = document.querySelector("#pcScore");
const log = document.querySelector(".log");
const userLog = document.querySelector(".user");
const pcLog = document.querySelector(".pc");

/* CREATE RESET BUTTON */
function reset() {
    const resetButton = document.createElement("button");
    resetButton.textContent = "Reset";
    

}


/* PC CHOICE FUNCTION*/
function getComputerChoice() {
    let x = Math.random();
    if (x <= 0.33) {return "rock"}
    else if (x > 0.33 && x <= 0.66) {return "paper"}
    else if (x > 0.66) {return "scissors"}
}

let choice = "";

userScore = 0;
pcScore = 0;

/* PLAYER CHOICE FUNCTION */
function getHumanChoice(button) {
    let choice = button.textContent;
    console.log(choice);
    return choice.toLowerCase();
}

    /* PLAY A ROUND */
    function playRound(button) {
        let computerChoice = getComputerChoice();
        let humanChoice = getHumanChoice(button);
    if (userScore < 5 && pcScore < 5) {
        if ((humanChoice == "rock" && computerChoice == "scissors") || (humanChoice == "paper" && computerChoice == "scissors") || (humanChoice == "scissors" && computerChoice == "paper"))  {
                console.log(`You won! ${humanChoice} beats ${computerChoice}`);
                log.textContent = `You won! ${humanChoice} beats ${computerChoice}`;
                userScore++
                console.log(`User: ${userScore}; PC: ${pcScore}`);
                uScore.textContent = userScore;
            }
        else if ((computerChoice == "rock" && humanChoice == "scissors") || (computerChoice == "paper" && humanChoice == "scissors") || (computerChoice == "scissors" && humanChoice == "paper"))  {
                console.log(`You lost... ${humanChoice} loses against  ${computerChoice}`);
                log.textContent = `You lost... ${humanChoice} loses against  ${computerChoice}`;
                pcScore++
                console.log(`User: ${userScore}; PC: ${pcScore}`);
                pScore.textContent = pcScore;
            }
        else {  
                console.log("It's a tie!")
                console.log(`User: ${userScore}; PC: ${pcScore}`)
                log.textContent = "It's a tie!"
            }}
    else if (userScore == 5) {
        userLog.style.color = "green";
        log.textContent = `Congrats! You won with a score of ${userScore} to ${pcScore}`;
    
    }
    else if (pcScore == 5) {
        pcLog.style.color = "red"
        log.textContent = `Oh no! You lost with a score of ${userScore} to ${pcScore}`;
    }

        

    }

rockButton.addEventListener('click', () => playRound(rockButton));
paperButton.addEventListener('click', () => playRound(paperButton));
scissorsButton.addEventListener('click', () => playRound(scissorsButton));


/* PLAY A GAME */
// function playGame() {

//     /* INITIALISING THE SCORES */
//     let userScore = 0;
//     let pcScore = 0;



// }


/*
            for (let i = 0; i < 5; i++) {
                playRound()
            }

            let result = "";

            if (userScore < pcScore) {
                result = "lost"
            } else if (userScore > pcScore) {
                result = "won"
            } else { result = "tied"}

            console.log(`You ${result} with a score of ${userScore} to ${pcScore}`)
        }

        function countEven() {
            for(let i = 2; i<11; i=i+2){
                alert(`number ${i}`)
            }
        }
*/
    </script>
</body>
</html>